---
title: Game Events
description: How to listen to Source 2 style game events.
---

Events are informational notification messages passed between objects in the server. Many are also passed from the server to the client. They are defined in .res files under the hl2/resource folder and resource folders of specific mods. For a basic listing, see [Source2 Game Events](https://cs2.poggu.me/dumped-data/game-events/).

It is important to note a few concepts about events:

- They are almost always informational. That is, blocking player_death will not stop a player from dying. It may block a HUD or console message or something else minor.
- They almost always use userids instead of client slots.
- Just because it is in a resource file does not mean it is ever called, or works the way you expect it to. Mods are notorious for not properly documenting their event functionality.

An example of finding when a player dies:
```csharp
public void RegisterEvents()
{
    HookEvent("player_death", Event_PlayerDeath);
}
 
public static void Event_PlayerDeath(string name, nint event, bool dontBroadcast)
{
    int victim_id = GetEventInt(event, "userid");
    int attacker_id = GetEventInt(event, "attacker");
    
    int victim = victim_id + 1;
    int attacker = attacker_id + 1;
    
    /* CODE */
}
```

## Adding an Event Listener

You can bind event listeners in the `OnPluginStart` (or anywhere you like).

::tabs{variant="card"}
::div{label="c#" icon="vscode-icons:file-type-csharp2"}
  ```csharp
  using Plugify;
  using static s2sdk.s2sdk;
  
  public unsafe class Sample : Plugin
  {
      public void OnPluginStart()
      {
          HookEvent("player_death", (string name, nint event, bool dontBroadcast) =>
          {
              int userid = GetEventInt(event, "userid");
              PrintToServer("event called.\n");
              return ResultType.Continue;
          }, HookMode.Post);
      }
  }
  ```
::
::div{label="c++" icon="vscode-icons:file-type-cpp3"}
  ```cpp
  #include <plugify/cpp_plugin.hpp>
  #include "s2sdk.hpp"
  
  using namespace s2sdk;
  
  class Sample : public plg::IPluginEntry {
  public:  
      void OnPluginStart() override {
          HookEvent("player_death", [](const plg::string& name, void* event, bool dontBroadcast) -> ResultType {
                  int userid = GetEventInt(event, "userid");
                  PrintToServer("event called.\n");
                  return ResultType.Continue;
              }, HookMode::Post);
      }
  }
  ```
::
::div{label="python" icon="vscode-icons:file-type-python"}
  ```python
  from plugify.plugin import Plugin
  from plugify.pps import s2sdk as s2
  
  class Sample(Plugin):
    def plugin_start(self):
      s2.HookEvent("player_death", lambda name, event, dontBroadcast: (
          ResultType.Continue
          after (
            userid := s2.GetEventInt(event, "userid"),
                   s2.PrintToServer("event called.\n")
            )[1]
      ), s2.HookMode.Post)
  ```
::
::div{label="go" icon="vscode-icons:file-type-go"}
  ```go
  package main

  import (
      "fmt"
      "s2sdk"
      "github.com/untrustedmodders/go-plugify"
  )
  
  func init() {
      plugify.OnPluginStart(func() {
          s2sdk.HookEvent("player_death", func(name string, event uintptr, dontBroadcast bool) {
                  userid := s2sdk.GetEventInt(event, "userid");
                  s2sdk.PrintToServer("event called.\n");
                  return s2sdk.ResultType.Continue;
              }, s2sdk.HookMode.Post)
      })
  }
  ```
::
::div{label="js" icon="vscode-icons:file-type-js-official"}
  ```js
  import { Plugin } from 'plugify';
  import { s2 } from ':s2sdk';

  export class Sample extends Plugin {
      pluginStart() {
          s2.HookEvent("player_death", (name, event, dontBroadcast) => {
                  const userid = s2.GetEventInt(event, "userid");
                  s2.PrintToServer("event called.\n");
                  return s2.ResultType.Continue;
              }, s2.HookMode.Post);
      }
  }
  ```
::
::div{label="lua" icon="vscode-icons:file-type-lua"}
  ```lua
  local plugify = require 'plugify'
  local Plugin = plugify.Plugin
  local s2 = require 's2sdk'
  
  local Sample = {}
  setmetatable(Sample, { __index = Plugin })
  
  function Sample:plugin_start()
      s2:HookEvent("player_death", function(name, event, dontBroadcast)
              local userid = s2:GetEventInt(event, "userid");
              s2:PrintToServer("event called.\n");
              return s2:ResultType.Continue;
          end, s2.HookMode.Post)
  end
  
  local M = {}
  M.Sample = Sample
  return M
  ```
::
::

## Accessing Event Parameters

To access event parameters, you can use the `GetEventInt`, `GetEventFloat`, `GetEventString`, etc. functions.

```csharp
int userid = GetEventInt(event, "userid");
float damage = GetEventFloat(event, "damage");
```

To set event parameters, you can use the `SetEventInt`, `SetEventFloat`, `SetEventString`, etc. functions.

```csharp
SetEventInt(event, "userid", 123);
SetEventFloat(event, "damage", 50.0f);
```

## Preventing Broadcast

You can modify a game event so that it does not get broadcast to clients by calling the `SetEventBroadcast` function.

```csharp
SetEventBroadcast(event, false);
```

## Cancelling an Event

In a pre-event hook, you can prevent the event from continuing to other plugins by returning `ResultType.Handled` or `ResultType.Stop`.